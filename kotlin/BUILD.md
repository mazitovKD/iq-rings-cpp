### Шаг 0: Создайте папку `app/src/main/cpp`
### Шаг 1: Настройка CMake и Gradle

1. Добавьте файл `CMakeLists.txt` в корень вашего проекта или в папку `app/src/main/cpp`.

2. **Настройка Gradle**: В вашем `build.gradle` (модуль `app`) добавьте строки из одноименного файла

### Шаг 2: -

### Шаг 3: **Добавьте файл `Exercise.kt` в папку `app/src/main/java/com/example`**

### Шаг 4: Компиляция и тестирование

1. **Синхронизируйте проект с Gradle**: Откройте `build.gradle` и синхронизируйте проект с Gradle.

2. **Скомпилируйте проект**: Запустите сборку проекта. Android Studio автоматически сгенерирует JNI заголовочные файлы и скомпилирует C++ библиотеку.

3. **Запустите и протестируйте приложение**: Запустите приложение на эмуляторе Google Pixel 6 и протестируйте функционал.

### Заключение

Этот процесс позволяет вам скомпилировать C++ библиотеку и использовать её в Kotlin через JNI в Android Studio. Убедитесь, что все пути и зависимости настроены правильно, чтобы избежать ошибок сборки.


# Шаги для генерации JNI заголовков 
### 

1. **Объявите нативные методы в вашем Kotlin/Java классе**:
    ```kotlin
    package com.example

    class MyClass {
        external fun myMethod(param1: Int, param2: String): Boolean
    }
    ```

2. **Скомпилируйте проект**:
    - В Android Studio нажмите на "Build" -> "Make Project" (или используйте сочетание клавиш `Ctrl+F9`).
    - На этом этапе Android Studio проверяет ваш код, но не создаёт автоматически заголовочные файлы для JNI.

3. **Сгенерируйте заголовочные файлы вручную с использованием `javac`**:
    - Перейдите в командную строку/терминал и выполните следующую команду:
        ```sh
        javac -h . app/src/main/java/com/example/MyClass.java
        ```
    - Эта команда создаст заголовочный файл `com_example_MyClass.h` в текущей директории.

### Пример использования `javac`

Допустим, ваш проект находится в директории `MyAndroidApp`, а класс `MyClass` находится в `app/src/main/java/com/example/`.

1. Перейдите в директорию проекта:
    ```sh
    cd MyAndroidApp
    ```

2. Выполните команду `javac`:
    ```sh
    javac -h app/src/main/jni app/src/main/java/com/example/MyClass.java
    ```
    - Это создаст заголовочный файл `com_example_MyClass.h` в директории `app/src/main/jni`.

### Пример JNI заголовочного файла

Предположим, что ваш Java/Kotlin класс выглядит так:
```kotlin
package com.example

class MyClass {
    external fun myMethod(param1: Int, param2: String): Boolean
}
```

Сгенерированный заголовочный файл `com_example_MyClass.h` будет выглядеть примерно так:
```cpp
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class com_example_MyClass */

#ifndef _Included_com_example_MyClass
#define _Included_com_example_MyClass
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     com_example_MyClass
 * Method:    myMethod
 * Signature: (ILjava/lang/String;)Z
 */
JNIEXPORT jboolean JNICALL Java_com_example_MyClass_myMethod
  (JNIEnv *, jobject, jint, jstring);

#ifdef __cplusplus
}
#endif
#endif
```

### Реализация JNI метода в C++

Теперь вы можете создать `.cpp` файл и реализовать JNI метод:
```cpp
#include "com_example_MyClass.h"
#include <jni.h>

JNIEXPORT jboolean JNICALL Java_com_example_MyClass_myMethod
  (JNIEnv *env, jobject obj, jint param1, jstring param2) {
    // Реализация вашего метода
    // Пример: просто вернуть true
    return JNI_TRUE;
}
```
